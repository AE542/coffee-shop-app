import{Signal as n,signal as r,computed as e,effect as t}from"@preact/signals-core";export{Signal,batch,computed,effect,signal}from"@preact/signals-core";import u,{useMemo as i,useRef as f,useEffect as o,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED as c}from"react";import{useSyncExternalStore as a}from"use-sync-external-store/shim/index.js";import l from"react/jsx-runtime";import s from"react/jsx-dev-runtime";var v=[],p=Symbol.for("react.element");Object.defineProperties(n.prototype,{$$typeof:{configurable:!0,value:p},type:{configurable:!0,value:function(n){return n.data.value}},props:{configurable:!0,get:function(){return{data:this}}},ref:{configurable:!0,value:null}});function useSignal(n){return i(function(){return r(n)},v)}function useComputed(n){var r=f(n);r.current=n;return i(function(){return e(function(){return r.current()})},v)}function useSignalEffect(n){var r=f(n);r.current=n;o(function(){return t(function(){return r.current()})},v)}var m,b=Symbol.for("react.element");function g(r){if("function"!=typeof r)return r;else return function(e,t){if("string"==typeof e&&t)for(var u in t){var i=t[u];if("children"!==u&&i instanceof n)t[u]=i.value}return r.call.apply(r,[r,e,t].concat([].slice.call(arguments,2)))}}function d(n){if(m)m();m=n&&n.S()}var y=function(){return d()};Object.defineProperties(n.prototype,{$$typeof:{configurable:!0,value:b},type:{configurable:!0,value:function(n){return n.data.value}},props:{configurable:!0,get:function(){return{data:this}}},ref:{configurable:!0,value:null}});var h=null,j=!1,x=null,S=new Map;function $(n){if(!n)return 1;var r,e=S.get(n);if(void 0!==e)return e;var t=n.useCallback.toString();if(n.useReducer===n.useEffect)r=1;else if(n.useEffect===n.useImperativeHandle)r=32;else if(/Invalid/.test(t))r=2;else if(/updateCallback/.test(t)||/\[0\]/.test(t)&&/\[1\]/.test(t)){var u=n.useReducer.toString();if(/rerenderReducer/.test(u)||/return\s*\[\w+,/.test(u))r=16;else r=8}else r=4;S.set(n,r);return r}!function(){Object.defineProperty(c.ReactCurrentDispatcher,"current",{get:function(){return x},set:function(n){if(!j){var r=$(x),e=$(n);x=n;if(function(n,r){if(1&n&&28&r)return!0;else if(2&n||2&r)return!1;else if(16&r)return!0;else return!1}(r,e)){j=!0;h=function(){var n=f();if(null==n.current)n.current=function(){var n,r,e=0,u=t(function(){n=this});n.c=function(){e=e+1|0;if(r)r()};return{updater:n,subscribe:function(n){r=n;return function(){e=e+1|0;r=void 0;u()}},getSnapshot:function(){return e}}}();var r=n.current;a(r.subscribe,r.getSnapshot,r.getSnapshot);d(r.updater);return y}();j=!1}else if(function(n,r){return Boolean(28&n&&1&r)}(r,e))null==h||h()}else x=n}});!function(){var n=l,r=s;u.createElement=g(u.createElement);r.jsx&&(r.jsx=g(r.jsx));n.jsx&&(n.jsx=g(n.jsx));r.jsxs&&(r.jsxs=g(r.jsxs));n.jsxs&&(n.jsxs=g(n.jsxs));r.jsxDEV&&(r.jsxDEV=g(r.jsxDEV));n.jsxDEV&&(n.jsxDEV=g(n.jsxDEV))}()}();export{useComputed,useSignal,useSignalEffect};//# sourceMappingURL=signals.module.js.map
