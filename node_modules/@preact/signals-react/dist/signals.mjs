import{Signal as e,signal as n,computed as t,effect as r}from"@preact/signals-core";export{Signal,batch,computed,effect,signal}from"@preact/signals-core";import u,{useMemo as i,useRef as o,useEffect as f,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED as c}from"react";import{useSyncExternalStore as l}from"use-sync-external-store/shim/index.js";import a from"react/jsx-runtime";import s from"react/jsx-dev-runtime";var p=[],m=Symbol.for("react.element");Object.defineProperties(e.prototype,{$$typeof:{configurable:!0,value:m},type:{configurable:!0,value:function(e){return e.data.value}},props:{configurable:!0,get:function(){return{data:this}}},ref:{configurable:!0,value:null}});function useSignal(e){return i(function(){return n(e)},p)}function useComputed(e){var n=o(e);n.current=e;return i(function(){return t(function(){return n.current()})},p)}function useSignalEffect(e){var n=o(e);n.current=e;f(function(){return r(function(){return n.current()})},p)}const b=Symbol.for("react.element");function g(n){if("function"!=typeof n)return n;else return function(t,r,...u){if("string"==typeof t&&r)for(let n in r){let t=r[n];if("children"!==n&&t instanceof e)r[n]=t.value}return n.call(n,t,r,...u)}}let d;function v(e){if(d)d();d=e&&e.S()}const y=()=>v();Object.defineProperties(e.prototype,{$$typeof:{configurable:!0,value:b},type:{configurable:!0,value:function({data:e}){return e.value}},props:{configurable:!0,get(){return{data:this}}},ref:{configurable:!0,value:null}});let h=null,j=!1,x=null;const S=new Map;function $(e){if(!e)return 1;const n=S.get(e);if(void 0!==n)return n;let t;const r=e.useCallback.toString();if(e.useReducer===e.useEffect)t=1;else if(e.useEffect===e.useImperativeHandle)t=32;else if(/Invalid/.test(r))t=2;else if(/updateCallback/.test(r)||/\[0\]/.test(r)&&/\[1\]/.test(r)){let n=e.useReducer.toString();if(/rerenderReducer/.test(n)||/return\s*\[\w+,/.test(n))t=16;else t=8}else t=4;S.set(e,t);return t}!function(){Object.defineProperty(c.ReactCurrentDispatcher,"current",{get:()=>x,set(e){if(j){x=e;return}const n=$(x),t=$(e);x=e;if(function(e,n){if(1&e&&28&n)return!0;else if(2&e||2&n)return!1;else if(16&n)return!0;else return!1}(n,t)){j=!0;h=function(){const e=o();if(null==e.current)e.current=function(){let e,n,t=0,u=r(function(){e=this});e.c=function(){t=t+1|0;if(n)n()};return{updater:e,subscribe(e){n=e;return function(){t=t+1|0;n=void 0;u()}},getSnapshot:()=>t}}();const n=e.current;l(n.subscribe,n.getSnapshot,n.getSnapshot);v(n.updater);return y}();j=!1}else if(function(e,n){return Boolean(28&e&&1&n)}(n,t))null==h||h()}});!function(){const e=a,n=s;u.createElement=g(u.createElement);n.jsx&&(n.jsx=g(n.jsx));e.jsx&&(e.jsx=g(e.jsx));n.jsxs&&(n.jsxs=g(n.jsxs));e.jsxs&&(e.jsxs=g(e.jsxs));n.jsxDEV&&(n.jsxDEV=g(n.jsxDEV));e.jsxDEV&&(e.jsxDEV=g(e.jsxDEV))}()}();export{useComputed,useSignal,useSignalEffect};//# sourceMappingURL=signals.mjs.map
